webpackJsonp([24],{"4s5C":function(t,e){},lmJQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),o=a("cNyQ"),n=a("0xDb"),r=a("1h8J"),l=a("NYxO"),c={data:function(){return{borderColor:!1,nameStr:"",toastFalg:!1,fullHeight:null,listData:null}},components:{headTop:o.a},computed:i()({},Object(l.c)(["getDevicelist","getDevicesdata"]),{deviceList:function(){return this.getDevicelist},devicesData:function(){return this.getDevicesdata}}),created:function(){this.data_init()},mounted:function(){console.log(this.devicesData),Object(r.d)(this.NAVIGATOR,this),this.fullHeight=document.documentElement.clientHeight},methods:i()({},Object(l.b)(["setRoomdata","setDevicelist"]),{data_init:function(){this.listData=this.deviceList,this.listData.forEach(function(t){t.status=!1})},nameExp:function(t){/^\w{0,}$/.test(t)?this.toastFalg=!1:this.toastFalg=!0},tabswitch:function(t){console.log(t.status);var e=t.status;this.$delete(t,"status"),this.$set(t,"status",!e)},Finished:function(){if(this.toastFalg||""===this.nameStr)return!1;var t="",e=[];this.listData.length>0&&(console.log(this.listData),this.listData.forEach(function(a){a.status&&(console.log(a),t+="&"+a.mac,e.push(a.mode))})),console.log(e);var a=void 0,s=JSON.parse(Object(n.b)("login")),i=JSON.parse(Object(n.b)("roomData")),o=void 0,r=!1;if(i)for(var l in i)if(i[l].email===s.email&&(o=l,r=!0),r){for(var c in a=i[o].room.length,i[o].room)if(i[o].room[c].name===this.nameStr)return this.$store.state.ToastType="sameRoom",!1}else a=0;else a=0,i=[];var d={name:this.nameStr,id:a,mac:t.slice(1),icon:e},u=void 0;r?i[o].room.push(d):(u={email:s.email,room:[d]},i.push(u)),Object(n.e)("roomData",i);var m=t.slice(1);m=m.split("&"),this.setRoomdata(i);var v=this.deviceList;v.length&&(v=v.filter(function(t){if(m.indexOf(t.mac)<0)return t})),this.setDevicelist(v),this.$router.push({path:"/Me"})}})},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"addRoom"}},[s("head-top",{attrs:{title:"Add Rooms",goBack:"true"}}),t._v(" "),s("div",{staticClass:"content"},[s("span",[t._v("Please name your room")]),t._v(" "),s("div",{staticClass:"editorName",class:t.borderColor?"active_color":""},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.nameStr,expression:"nameStr"}],attrs:{type:"text",placeholder:"e.g.Growroom, Bedroom",maxlength:"16"},domProps:{value:t.nameStr},on:{focus:function(e){t.borderColor=!t.borderColor},blur:function(e){t.borderColor=!t.borderColor},input:[function(e){e.target.composing||(t.nameStr=e.target.value)},function(e){t.nameExp(t.nameStr)}]}})]),t._v(" "),s("span",{style:{color:t.toastFalg?"red":""}},[t._v("Tipï¼š2-16 characters,only letters and numbers allowed")]),t._v(" "),s("span",[t._v("The room has already existed. Please reenter the name of the room")]),t._v(" "),s("div",{staticClass:"list"},[s("span",[t._v("Select the device you want to add")]),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.listData.length>0,expression:"listData.length > 0"}]},t._l(t.listData,function(e){return s("li",{key:e.id},[s("div",{staticClass:"left"},[s("img",{attrs:{src:e.icon,alt:""}}),t._v(" "),s("span",[t._v(t._s(e.name))])]),t._v(" "),s("div",{staticClass:"right",on:{click:function(a){t.tabswitch(e)}}},[e.status?s("img",{attrs:{src:a("2MzF"),alt:""}}):t._e(),t._v(" "),e.status?t._e():s("img",{attrs:{src:a("pPZp"),alt:""}})])])})),t._v(" "),0===t.listData.length?s("div",{staticClass:"noList"},[t._v("\n        No devices\n      ")]):t._e()]),t._v(" "),s("div",{staticClass:"nextbtn",class:""===t.nameStr?"disabClick":"",on:{click:t.Finished}},[s("span",[t._v("Finished")])])])],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("4s5C")},"data-v-c14a12ce",null);e.default=u.exports}});
//# sourceMappingURL=24.c198a3e3a441d357016c.js.map